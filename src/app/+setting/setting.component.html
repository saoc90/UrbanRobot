
 <div id=setting>
    <div class="input-field">
      <h2>Change Password</h2>
       <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input [(ngModel)]='oldPassword' id="oldPassword" type="password" class="validate">
          <label for="email">Old Password</label>
        </div>
      </div>
      <div class="row">
       
      </div>
      <div class="row">
        <div class="input-field col s6">
          <input [(ngModel)]='newPasswordA'  id="newPasswordA" type="password" class="validate">
          <label for="newPasswordA">Set new Password</label>
        </div>
        <div class="input-field col s6">
          <input  [(ngModel)]='newPasswordB' id="newPasswordB" type="password" class="validate">
          <label for="newPasswordB">Repeat new Password</label>
        </div>
      </div>
      <p *ngIf="passwordError" style="color:red">
        {{passwordError}}
      </p>
      <p *ngIf="passwordSuccess" style="color:green">
        {{passwordSuccess}}
      </p>
      <div class="row">
        <div class="col s4 offset-s4">
          <button class="btn waves-effect waves-light" 
            (click)="changePassword()">
            <i class="material-icons right">send</i>
              Change Password
          </button>
         </div>
        </div>
    </form>
  </div>
  </div>
  <div *ngIf="isAdmin" class="input-field">
    <h2>Add new User</h2>
     <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input [(ngModel)]='email' id="email" type="email" class="validate">
          <label for="email">Email</label>
        </div>
      </div>
      <div class="row">
       
      </div>
      <div class="row">
        <div class="input-field col s6">
          <input [(ngModel)]='passwordA'  id="password1" type="password" class="validate">
          <label for="password1">Password</label>
        </div>
        <div class="input-field col s6">
          <input  [(ngModel)]='passwordB' id="password2" type="password" class="validate">
          <label for="password2">Repeat Password</label>
        </div>
      </div>
      <div class="input-field col s12">
        <select [(ngModel)]='userRole' materialize="material_select">
          <option value="admin">Admin</option>
          <option value="visitor">Visitor</option>
          <option value="inventor">Inventor</option>
        </select>
        <label>Materialize Select</label>
      </div>
    </form>
  </div>
   <p *ngIf="error" style="color:red">
        {{error}}
      </p>
    <div class="row">
      <div class="col s4 offset-s4">
   <button class="btn waves-effect waves-light" 
        (click)="createUser()">
        <i class="material-icons right">send</i>
        Create User
   </button>
    </div>
    </div>
    </div>
    <div *ngIf="isAdmin">
      <h2>Edit Users</h2>
    <table class="responsive-table">
        <thead>
          <tr>
              <th data-field="id">Email</th>
              <th data-field="name">Userrole</th>
              <th></th>
              <th></th>
              <th></th>
          </tr>
        </thead>
        <tbody>
          <tr  *ngFor="let user of userList | async" >
           
            <td style="padding-top:2px"> 
              <div class="input-field col s6">
                <input [(ngModel)]='user.email' disabled 
                  style="border-bottom: 1px solid black;
                         color: black;" 
                         id="last_name" type="text" class="validate">
              </div>
            </td>
            <td> 
              <select [(ngModel)]='user.role' materialize="material_select">
                <option value="admin">Admin</option>
                <option value="visitor">Visitor</option>
                <option value="inventor">Inventor</option>
              </select>
            </td>
            <td >
              <button class="btn waves-effect waves-light" 
                  (click)="resetPassword(user)" 
                  title="Send a new Password by email to {{user.email}}">
                  <i class="material-icons right">send</i>
                    Reset Password
              </button>
            </td>
            <td style="width:20px;">
              <a (click)="SaveUserChanges(user)" 
                title="Save Changes"
                 class="waves-effect waves-light btn">
                  <i style="font-size: 25px" class="material-icons ">save</i>
              </a>
            </td>
            <td style="width:20px;">
              <a (click)="deleteUser(user)" 
                  
                 title="Delete User"
                 style="background-color:red; "
                 class="waves-effect waves-light btn">
                  <i style="font-size: 25px" class="material-icons ">delete</i>
               </a>
            </td>
          </tr>

        </tbody>
      </table>
  </div>
  <div>
  <adminSetting *ngIf="isAdministrator"></adminSetting>
  </div>
 </div>